<div class="min-h-screen bg-[url('src/assets/background/rectangle-2.png')] bg-cover bg-center flex flex-col">

  <!-- Header -->
  <header class="h-[8vh] bg-[rgba(9,21,30,0.8)] flex items-center justify-end px-4">
    <div class="flex items-center space-x-4">
      <!-- User Icon and Text -->
      <a href="#" class="flex items-center text-white">
        <span class="h-8 w-8 mr-1 bg-user-icon"></span>
        <span>Compte</span>
      </a>

      <!-- Sign Out Icon and Text -->
      <a href="#" class="flex items-center text-white">
        <span class="h-8 w-8 mr-1 bg-signout-icon"></span>
        <span>Se déconnecter</span>
      </a>
    </div>
  </header>

  <div class="flex flex-1">

    <!-- Left Sidebar for Discussions/Groups -->
    <aside class="w-[15%] bg-[rgba(9,21,30,0.8)] p-4 rounded-[16px] mx-4 my-4 relative">
      <!-- Title and Add Chat Icon -->
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-white text-lg font-semibold">Conversation</h2>
        <span class="h-8 w-8 bg-add-chat-icon cursor-pointer" (click)="togglePopup()"></span>
      </div>

      <!-- Example discussions/groups -->
      <ul class="space-y-4">
        <li class="flex items-center text-white hover:text-pink-300 cursor-pointer">
          <span class="h-8 w-8 mr-2 bg-chats-icon"></span>
          <span>Nom du groupe 1</span>
        </li>
        <li class="flex items-center text-white hover:text-pink-300 cursor-pointer">
          <span class="h-8 w-8 mr-2 bg-chats-icon"></span>
          <span>Nom du groupe 2</span>
        </li>
        <li class="flex items-center text-white hover:text-pink-300 cursor-pointer">
          <span class="h-8 w-8 mr-2 bg-chat-icon"></span>
          <span>Nom de l'ami</span>
        </li>
      </ul>

      <!-- Popup Menu -->
      <div *ngIf="isPopupVisible" class="absolute left-[80%] top-[7%] w-[400px] bg-[rgba(9,21,30,1)] text-white rounded-lg p-4 shadow-lg z-50">
        <!-- Popup Content -->
        <div class="mb-4">
          <h3 class="font-semibold text-lg">Créer une conversation</h3>
        </div>

        <label class="block my-2">Chercher un nom d'utilisateur</label>
        <input type="text" placeholder="Nom d'utilisateur" class="w-full font-light bg-[#202c34] border-2 border-[#3f4d54] text-white px-4 py-2 rounded focus:outline-none placeholder:text-[#ecfefe] mb-4"/>

        <!-- Create Conversation Button -->
        <button class="w-3/4 bg-[#1ed7be] text-[#09151e] font-bold py-2 px-2 rounded-full shadow-lg hover:bg-gradient-to-r focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:scale-105">
          Créer une conversation privée
        </button>

        <label class="block my-2">Choisir le nom de la conversation</label>
        <input type="text" placeholder="Nom de la conversation" class="w-full font-light bg-[#202c34] border-2 border-[#3f4d54] text-white px-4 py-2 rounded focus:outline-none placeholder:text-[#ecfefe] mb-4"/>

        <!-- Create Conversation Button -->
        <button class="w-3/4 bg-[#1ed7be] text-[#09151e] font-bold py-2 px-2 rounded-full shadow-lg hover:bg-gradient-to-r focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:scale-105">
          Créer un groupe
        </button>
      </div>


    </aside>

    <!-- Right Section for Displaying Discussion -->
    <main class="flex-1 p-4 flex flex-col relative">
      <!-- Bande de couleur sous le header -->
      <div class="h-[8%] rounded-2xl bg-[rgba(9,21,30,0.8)] flex items-center justify-between px-4">
        <!-- Icon and Text on the Left -->
        <div class="flex items-center text-white">
          <span class="h-8 w-8 bg-chats-icon mr-2"></span>
          <span>Nom du Groupe</span>
        </div>
        <!-- Icon on the Right with Dynamic Background Color -->
        <span class="h-10 w-10 bg-user-three-icon cursor-pointer rounded bg-cover"
              [ngClass]="{'bg-[#3f4d54]': isContainerVisible}"
              (click)="toggleContainer()"></span>
      </div>

      <!-- Container for messages and input -->
      <div [ngClass]="{'w-[72%]': isContainerVisible, 'w-full': !isContainerVisible}" class="flex-grow p-4 rounded-lg overflow-y-auto">
        <!-- Messages Display Area -->
        <div class="space-y-4">
          <div class="bg-gray-200 p-2 rounded">Message 1</div>
          <div class="bg-gray-200 p-2 rounded">Message 2</div>
          <div class="bg-gray-200 p-2 rounded">Message 3</div>
        </div>
      </div>

      <!-- Input for Sending Messages -->
      <div [ngClass]="{'w-[72%]': isContainerVisible, 'w-full': !isContainerVisible}" class="mt-4 flex items-center bg-[rgba(9,21,30,0.8)] p-3 rounded-2xl">
        <input type="text" placeholder="Envoyer un message..." class="flex-1 font-light bg-[#202c34] border-2 border-[#3f4d54] text-white px-4 py-2 rounded focus:outline-none placeholder:text-[#ecfefe]"/>

        <!-- Icon for adding -->
        <span class="h-8 w-8 ml-2 bg-plus-icon cursor-pointer"></span>

        <!-- Icon for sending message with background color -->
        <span class="h-10 w-10 ml-2 bg-[#1ed7be] cursor-pointer flex items-center justify-center rounded">
          <span class="bg-paper-place-tilt-icon h-8 w-8"></span>
        </span>
      </div>

      <!-- Right Container with Rounded Corners and Padding, Reduced Height -->
      <div id="infoContainer" [ngClass]="{'hidden': !isContainerVisible}"
           class="absolute right-0 bottom-0 w-[25%] h-[80vh] bg-[rgba(9,21,30,0.8)] p-4 rounded-[16px] mx-4 mb-4 transition-transform duration-300 transform"
           [ngStyle]="{'transform': isContainerVisible ? 'translateX(0)' : 'translateX(100%)'}">

        <!-- Text and Icon for Group Members, Icon Aligned to the Right -->
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-white text-lg font-semibold">Membre de groupe</h2>
          <span class="h-8 w-8 bg-[url('src/assets/icons/UserPlus.svg')] bg-cover"></span>
        </div>

        <!-- List of Group Members in Column -->
        <div class="flex flex-col space-y-4">
          <!-- Member 1 -->
          <div class="flex flex-col justify-between text-white">
            <!-- User Icon and Name -->
            <div class="flex justify-between pb-2.5">
              <span class="h-8 w-8 bg-[url('src/assets/icons/user.svg')] bg-cover mr-2"></span>
              <span>Nom de l'ami</span>
              <span class="h-6 w-6 bg-[url('src/assets/icons/DotsThreeVertical.svg')] bg-cover cursor-pointer"></span>
            </div>
            <!-- Dots Icon -->

            <div class="flex justify-between">
              <span class="h-8 w-8 bg-[url('src/assets/icons/user.svg')] bg-cover mr-2"></span>
              <span>Nom de l'ami</span>
              <span class="h-6 w-6 bg-[url('src/assets/icons/DotsThreeVertical.svg')] bg-cover cursor-pointer"></span>
            </div>
            <!-- Dots Icon -->

          </div>
        </div>

